â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    GPTI DATA FLOW - QUICK TEST REFERENCE                 â•‘
â•‘                                                                          â•‘
â•‘                        Testing Framework Ready âœ…                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ WHAT WAS CREATED:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Test Suite 1: Architecture Verification (Static - No Server Needed)
   File: /opt/gpti/gpti-site/tests/run-integration-tests.sh
   Run:  bash tests/run-integration-tests.sh
   Time: ~10 seconds

âœ… Test Suite 2: E2E Runtime Tests (With Server Running)
   File: /opt/gpti/gpti-site/tests/e2e-data-flow.sh
   Run:  bash tests/e2e-data-flow.sh
   Time: ~30 seconds

âœ… Test Suite 3: TypeScript Test Suite (Programmatic)
   File: /opt/gpti/gpti-site/tests/data-flow.test.ts
   Run:  npm run test:data-flow
   Time: ~20 seconds

âœ… Test Suite 4: Interactive Browser Debugger
   File: /opt/gpti/gpti-site/pages/debug/data-flow.tsx
   Run:  http://localhost:3000/debug/data-flow
   Time: Real-time

âœ… Documentation:
   - /opt/gpti/DATA_FLOW_TESTING_GUIDE.md (Complete guide)
   - /opt/gpti/DATA_FLOW_SUMMARY.md (This summary)
   - /opt/gpti/FINAL_DATA_FLOW_REPORT_*.md (Generated reports)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ QUICK START GUIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

METHOD 1: Verify Structure (Fastest - No Server Needed)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ cd /opt/gpti/gpti-site
$ bash tests/run-integration-tests.sh

Expected output:
  âœ… Seed data: 100 firms found
  âœ… API Routes: 9/9 routes found
  âœ… Frontend Pages: 5/5 pages found
  âœ… Data Integration: API calls found in pages
  âœ… Validation: 18 validation files found

Results: Test report saved to /opt/gpti/TEST_REPORT_*.md


METHOD 2: Full E2E Runtime Test (Requires Running Server)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Terminal 1 - Start server:
  $ cd /opt/gpti/gpti-site
  $ npm run dev
  [Server running on http://localhost:3000]

Terminal 2 - Run tests:
  $ cd /opt/gpti/gpti-site
  $ bash tests/e2e-data-flow.sh

Expected output:
  âœ… Testing Health endpoint ... OK (200)
  âœ… Testing Firms endpoint ... OK (200)
  âœ… Retrieved 100 firms from seed data
  âœ… Testing Agent status endpoint ... OK (200)
  âœ… Retrieved status for 9 agents
  [More endpoints tested...]


METHOD 3: Interactive Browser Testing (Most Visual)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Step 1: Start server
  $ cd /opt/gpti/gpti-site
  $ npm run dev

Step 2: Open browser
  URL: http://localhost:3000/debug/data-flow

Step 3: Click "Run All Tests" button

Step 4: Select each endpoint and inspect responses

Results: Real-time JSON responses visible in UI


METHOD 4: Manual API Testing
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Test health:
  $ curl http://localhost:3000/api/health | jq .

Test firms:
  $ curl http://localhost:3000/api/firms?limit=5 | jq .

Test agent status:
  $ curl http://localhost:3000/api/agents/status | jq .

Test evidence:
  $ curl http://localhost:3000/api/evidence | jq .


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š WHAT GETS TESTED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DATA SOURCES:
  âœ… Seed data file (100 firms)
  âœ… Seed data format (JSON valid)

API ENDPOINTS (9 total):
  âœ… /api/health                - System status
  âœ… /api/firms                 - Firm list (100)
  âœ… /api/firm                  - Single firm details
  âœ… /api/firm-history          - Historical data
  âœ… /api/agents/status         - Agent metrics
  âœ… /api/evidence              - Evidence collection
  âœ… /api/events                - Event stream
  âœ… /api/validation/metrics    - Test results
  âœ… /api/snapshots             - Data snapshots

FRONTEND PAGES (5 total):
  âœ… /agents-dashboard          - Agent metrics display
  âœ… /phase2                    - Validation status
  âœ… /firms                     - Firm listing
  âœ… /firm/[id]                 - Firm details
  âœ… /data                       - Data explorer

AGENTS (7 total):
  âœ… RVI  - Registry Verification
  âœ… SSS  - Sanctions Screening
  âœ… IIP  - Identity Integrity
  âœ… MIS  - Media Intelligence
  âœ… IRS  - Regulatory Status
  âœ… FCA  - Compliance Audit
  âœ… FRP  - Financial Risk

DATA INTEGRATION:
  âœ… Pages fetch from APIs
  âœ… APIs return correct format
  âœ… Response times acceptable
  âœ… Error handling present


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ FILE REFERENCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TEST SCRIPTS:
  /opt/gpti/gpti-site/tests/run-integration-tests.sh
  /opt/gpti/gpti-site/tests/e2e-data-flow.sh
  /opt/gpti/gpti-site/tests/generate-final-report.sh
  /opt/gpti/gpti-site/tests/data-flow.test.ts

TEST PAGES:
  /opt/gpti/gpti-site/pages/debug/data-flow.tsx
  /opt/gpti/gpti-site/pages/api/verify/page-integration.ts

DOCUMENTATION:
  /opt/gpti/DATA_FLOW_TESTING_GUIDE.md
  /opt/gpti/DATA_FLOW_SUMMARY.md
  /opt/gpti/QUICK_TEST_REFERENCE.txt (this file)
  /opt/gpti/FINAL_DATA_FLOW_REPORT_*.md (generated)

SEED DATA:
  /opt/gpti/gpti-data-bot/data/seeds/seed.json (100 firms)

API ROUTES:
  /opt/gpti/gpti-site/pages/api/health.ts
  /opt/gpti/gpti-site/pages/api/firms.ts
  /opt/gpti/gpti-site/pages/api/firm.ts
  /opt/gpti/gpti-site/pages/api/firm-history.ts
  /opt/gpti/gpti-site/pages/api/agents/status.ts
  /opt/gpti/gpti-site/pages/api/evidence.ts
  /opt/gpti/gpti-site/pages/api/events.ts
  /opt/gpti/gpti-site/pages/api/validation/metrics.ts
  /opt/gpti/gpti-site/pages/api/snapshots.ts

FRONTEND PAGES:
  /opt/gpti/gpti-site/pages/agents-dashboard.tsx
  /opt/gpti/gpti-site/pages/phase2.tsx
  /opt/gpti/gpti-site/pages/firm.tsx
  /opt/gpti/gpti-site/pages/firm/[id].tsx
  /opt/gpti/gpti-site/pages/data.tsx


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… VERIFICATION CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Before Running Tests:
  â˜‘ Review DATA_FLOW_TESTING_GUIDE.md
  â˜‘ Understand data flow architecture

Static Tests (No Server):
  â˜‘ Run: bash tests/run-integration-tests.sh
  â˜‘ Verify: All components exist (100% pass)

Runtime Tests (With Server):
  â˜‘ Start server: npm run dev
  â˜‘ Run: bash tests/e2e-data-flow.sh
  â˜‘ Check: All endpoints respond (200)

Browser Tests:
  â˜‘ Open: http://localhost:3000/debug/data-flow
  â˜‘ Click: "Run All Tests"
  â˜‘ Verify: All tests pass

Manual Inspection:
  â˜‘ Check DevTools console (F12)
  â˜‘ Check Network tab for API calls
  â˜‘ Verify data displays on pages

Report Review:
  â˜‘ Check: /opt/gpti/TEST_REPORT_*.md
  â˜‘ Review: Timing data
  â˜‘ Verify: All tests passed


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ EXPECTED RESULTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Architecture Test Results:
   [TEST 1] Checking seed data...
   âœ… Seed data found (100 firms)
   
   [TEST 2] Checking database connectivity...
   âš ï¸  Database connection test skipped
   
   [TEST 3] Checking API route files...
   âœ… /api/health.ts
   âœ… /api/firms.ts
   [... 7 more endpoints ...]
   Found 9/9 API routes
   
   [TEST 4] Checking frontend pages consuming data...
   âœ… pages/agents-dashboard.tsx
   âœ… pages/phase2.tsx
   [... 3 more pages ...]
   Found 5/5 consumer pages
   
   [TEST 5] Verifying data integration in pages...
   âœ… Data Integration: API calls found in pages
   
   [TEST 6] Checking data validation patterns...
   âœ… Validation: 18 validation files found

âœ… E2E Test Results:
   Testing Health endpoint ... âœ… OK (200)
   Testing Firms endpoint ... âœ… OK (200)
   Retrieved 100 firms from seed data
   Testing Agent status endpoint ... âœ… OK (200)
  Retrieved status for 9 agents
   Testing Evidence endpoint ... âœ… OK (200)
   Testing Validation metrics endpoint ... âœ… OK (200)
   Testing Events endpoint ... âœ… OK (200)
   
   Testing /agents-dashboard page ... âœ… OK (200)
   Testing /phase2 page ... âœ… OK (200)
   Testing /firms page ... âœ… OK (200)
   Testing /data page ... âœ… OK (200)
   
   âœ… All critical paths operational


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”§ TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Issue: "API not responding" or 503 errors
Fix:   Start backend services
       $ docker-compose up -d postgres minio redis
       $ npm run populate-data

Issue: "Seed data not found"
Fix:   Check if file exists
       $ ls -la /opt/gpti/gpti-data-bot/data/seeds/seed.json

Issue: CORS errors in browser
Fix:   Ensure API_URL is correct in .env.local
       $ grep API_URL .env.local

Issue: Pages show blank/no data
Fix:   Check browser console for errors (F12)
       Check Network tab for failed API calls

Issue: "Cannot find test file"
Fix:   Ensure you're in correct directory
       $ cd /opt/gpti/gpti-site
       $ bash tests/run-integration-tests.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“š ADDITIONAL RESOURCES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Complete Testing Guide:
  cat /opt/gpti/DATA_FLOW_TESTING_GUIDE.md

Generated Reports:
  ls -la /opt/gpti/FINAL_DATA_FLOW_REPORT_*.md
  cat /opt/gpti/TEST_REPORT_*.md

View All Test Files:
  ls -la /opt/gpti/gpti-site/tests/

Debug in Browser:
  npm run dev
  Open: http://localhost:3000/debug/data-flow


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… SUMMARY: Data flow testing framework is complete and ready!

   â†’ Run tests: bash tests/run-integration-tests.sh
   â†’ Read guide: cat /opt/gpti/DATA_FLOW_TESTING_GUIDE.md
   â†’ Debug live: http://localhost:3000/debug/data-flow

Generated: 2026-02-05
Status: âœ… READY FOR TESTING

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
